# Aster Finance SOLåŒå‘äº¤æ˜“ç­–ç•¥

åŸºäº [Aster Finance æœŸè´§API](https://github.com/asterdex/api-docs/blob/master/aster-finance-futures-api_CN.md) å¼€å‘çš„SOLæ™ºèƒ½äº¤æ˜“ç­–ç•¥ã€‚

## ğŸ’¡ æ‰‹ç»­è´¹è®¾è®¡æ€è·¯

### æ ¸å¿ƒç†å¿µ
æˆ‘ä»¬çš„ç­–ç•¥å›´ç»•**æ‰‹ç»­è´¹ä¼˜åŒ–**å’Œ**ç§¯åˆ†è·å–**è®¾è®¡ï¼Œé€šè¿‡ç²¾ç¡®çš„æ‰‹ç»­è´¹è®¡ç®—å’ŒæŒä»“æ—¶é—´æ§åˆ¶ï¼Œå®ç°ç›ˆåˆ©æœ€å¤§åŒ–ã€‚

### æ‰‹ç»­è´¹è®¡ç®—æœºåˆ¶

#### 1. åŒé‡æ‰‹ç»­è´¹è€ƒè™‘
```python
# å¼€ä»“æ‰‹ç»­è´¹
open_fee = trade_amount * 0.0005  # 0.05%

# å¹³ä»“æ‰‹ç»­è´¹  
close_fee = trade_amount * 0.0005  # 0.05%

# æ€»æ‰‹ç»­è´¹æˆæœ¬
total_fee = open_fee + close_fee  # çº¦0.1%
```

#### 2. ç›ˆåˆ©é˜ˆå€¼è®¾è®¡
- **æ­¢ç›ˆé˜ˆå€¼**: 1.5% (è¦†ç›–æ‰‹ç»­è´¹åä»æœ‰1.4%å‡€åˆ©æ¶¦)
- **æ­¢æŸé˜ˆå€¼**: 1.0% (æ§åˆ¶æœ€å¤§æŸå¤±)
- **æœ€å°ç›ˆåˆ©**: å¿…é¡»è¦†ç›–åŒå‘æ‰‹ç»­è´¹æˆæœ¬

#### 3. ç§¯åˆ†ä¼˜åŒ–ç­–ç•¥
- **æœ€å°æŒä»“æ—¶é—´**: 1å°æ—¶ (è·å¾—5å€ç§¯åˆ†)
- **æ—¶é—´vsæ”¶ç›Š**: å¹³è¡¡å¿«é€Ÿæ­¢ç›ˆå’Œç§¯åˆ†è·å–
- **å¤åˆæ”¶ç›Š**: ç§¯åˆ†ä»·å€¼ + äº¤æ˜“ç›ˆåˆ©

### é£é™©æ§åˆ¶é€»è¾‘

#### 1. åŠ¨æ€æ­¢ç›ˆæ­¢æŸ
```python
# å¤šå•
take_profit = entry_price * (1 + 0.015)  # +1.5%
stop_loss = entry_price * (1 - 0.01)    # -1.0%

# ç©ºå•  
take_profit = entry_price * (1 - 0.015)  # -1.5%
stop_loss = entry_price * (1 + 0.01)    # +1.0%
```

#### 2. æ‰‹ç»­è´¹è¦†ç›–æ£€æŸ¥
```python
# ç¡®ä¿ç›ˆåˆ©èƒ½è¦†ç›–æ‰‹ç»­è´¹
min_profit_needed = total_fee + 0.001  # é¢å¤–0.1%ç¼“å†²
if current_profit >= min_profit_needed:
    # æ‰§è¡Œæ­¢ç›ˆ
```

#### 3. æ—¶é—´åŠ æƒå†³ç­–
- æŒä»“ < 1å°æ—¶: éœ€è¦æ›´é«˜ç›ˆåˆ©æ‰æ­¢ç›ˆ
- æŒä»“ â‰¥ 1å°æ—¶: è¾¾åˆ°æœ€å°ç›ˆåˆ©å³å¯æ­¢ç›ˆ
- ç§¯åˆ†ä»·å€¼è®¡å…¥æ€»æ”¶ç›Šè€ƒé‡

---

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### ç¯å¢ƒå‡†å¤‡

#### 1. å®‰è£…ä¾èµ–
```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /Users/solwhite/web3/web3Group

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼ˆå¦‚æœæœ‰ï¼‰
source venv/bin/activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

#### 2. é…ç½®APIå¯†é’¥
```bash
# å¤åˆ¶é…ç½®æ¨¡æ¿
cp aster/config.json.template aster/config.json

# ç¼–è¾‘é…ç½®æ–‡ä»¶
vim aster/config.json
```

é…ç½®æ–‡ä»¶æ ¼å¼ï¼š
```json
{
    "api_key": "your_api_key_here",
    "secret_key": "your_secret_key_here", 
    "base_url": "https://api.asterdex.com"
}
```

### ç­–ç•¥è¿è¡Œ

#### 1. åŸºç¡€è¿è¡Œ
```bash
# è¿›å…¥ç­–ç•¥ç›®å½•
cd aster

# è¿è¡ŒåŒå‘äº¤æ˜“ç­–ç•¥
python sol_long_strategy.py
```

#### 2. å‚æ•°é…ç½®

##### å¼€ä»“æ¬¡æ•°è®¾ç½®
ç¼–è¾‘ `sol_long_strategy.py` ç¬¬704è¡Œï¼š
```python
max_loops = 100  # ä¿®æ”¹ä¸ºä½ æƒ³è¦çš„å¼€ä»“æ¬¡æ•°
```

##### äº¤æ˜“æ–¹å‘è®¾ç½®  
ç¼–è¾‘ `sol_long_strategy.py` ç¬¬712è¡Œï¼š
```python
strategy_direction = "auto"  # è‡ªåŠ¨æ£€æµ‹æ–¹å‘
# strategy_direction = "long"   # åªåšå¤š
# strategy_direction = "short"  # åªåšç©º
```

##### ç­–ç•¥å‚æ•°è°ƒæ•´
ç¼–è¾‘ç­–ç•¥ç±»åˆå§‹åŒ–å‚æ•°ï¼ˆç¬¬44-50è¡Œï¼‰ï¼š
```python
self.position_size = 50.0        # æ¯æ¬¡å¼€ä»“é‡‘é¢(USDT)
self.leverage = 5                # æ æ†å€æ•°
self.fee_rate = 0.0005          # æ‰‹ç»­è´¹ç‡ 0.05%
self.profit_threshold = 0.015    # æ­¢ç›ˆé˜ˆå€¼ 1.5%
self.stop_loss_threshold = 0.01  # æ­¢æŸé˜ˆå€¼ 1.0%
self.min_holding_time = 3600     # æœ€å°æŒä»“æ—¶é—´(ç§’)
```

### ç›‘æ§å’Œæ§åˆ¶

#### 1. å®æ—¶ç›‘æ§
ç­–ç•¥è¿è¡Œæ—¶ä¼šæ˜¾ç¤ºï¼š
- å½“å‰è½®æ¬¡è¿›åº¦
- è´¦æˆ·ä½™é¢å˜åŒ–
- æŒä»“çŠ¶æ€å’Œç›ˆäº
- æ‰‹ç»­è´¹è®¡ç®—
- ç§¯åˆ†è·å–æƒ…å†µ

#### 2. å®‰å…¨é€€å‡º
- æŒ‰ `Ctrl+C` å®‰å…¨ä¸­æ–­ç­–ç•¥
- è‡ªåŠ¨æ£€æŸ¥å½“å‰æŒä»“çŠ¶æ€
- ç”Ÿæˆæœ€ç»ˆäº¤æ˜“æŠ¥å‘Š

#### 3. æ—¥å¿—æŸ¥çœ‹
```bash
# æŸ¥çœ‹ç­–ç•¥æ—¥å¿—
tail -f sol_strategy.log

# æŸ¥çœ‹è¯¦ç»†è¿è¡Œè®°å½•
cat sol_strategy.log | grep "ç›ˆäº"
```

### é«˜çº§åŠŸèƒ½

#### 1. è‡ªåŠ¨æ–¹å‘æ£€æµ‹
- **æ—¶é—´ç­–ç•¥**: å¥‡æ•°å°æ—¶åšå¤šï¼Œå¶æ•°å°æ—¶åšç©º
- **å¯æ‰©å±•**: æ”¯æŒæ·»åŠ æŠ€æœ¯æŒ‡æ ‡åˆ¤æ–­
- **æ™ºèƒ½åˆ‡æ¢**: æ ¹æ®å¸‚åœºæƒ…å†µè‡ªåŠ¨è°ƒæ•´

#### 2. é£é™©ç®¡ç†
- **ä½™é¢æ£€æŸ¥**: æ¯è½®å¼€å§‹å‰æ£€æŸ¥èµ„é‡‘å……è¶³æ€§
- **æœ€å¤§å¾ªç¯**: é˜²æ­¢æ— é™å¾ªç¯è¿è¡Œ
- **å¼‚å¸¸å¤„ç†**: ç½‘ç»œé”™è¯¯ã€APIé”™è¯¯è‡ªåŠ¨æ¢å¤

#### 3. æ€§èƒ½ä¼˜åŒ–
- **æ‰¹é‡å¤„ç†**: å‡å°‘APIè°ƒç”¨é¢‘ç‡
- **ç¼“å­˜æœºåˆ¶**: é¿å…é‡å¤æ•°æ®è¯·æ±‚
- **å¼‚æ­¥æ‰§è¡Œ**: æé«˜å“åº”é€Ÿåº¦

### æ³¨æ„äº‹é¡¹

#### âš ï¸ é£é™©æç¤º
- æœŸè´§äº¤æ˜“å­˜åœ¨çˆ†ä»“é£é™©ï¼Œè¯·åˆç†æ§åˆ¶ä»“ä½
- å»ºè®®å…ˆåœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯ç­–ç•¥æ•ˆæœ
- å¯†åˆ‡å…³æ³¨å¸‚åœºæ³¢åŠ¨ï¼ŒåŠæ—¶è°ƒæ•´å‚æ•°

#### ğŸ’¡ æœ€ä½³å®è·µ
- **å°é¢æµ‹è¯•**: å…ˆç”¨å°èµ„é‡‘æµ‹è¯•ç­–ç•¥
- **å‚æ•°è°ƒä¼˜**: æ ¹æ®å¸‚åœºæƒ…å†µè°ƒæ•´æ­¢ç›ˆæ­¢æŸ
- **å®šæœŸæ£€æŸ¥**: ç›‘æ§ç­–ç•¥è¡¨ç°å’Œèµ„é‡‘å®‰å…¨
- **å¤‡ä»½é…ç½®**: ä¿å­˜æœ‰æ•ˆçš„å‚æ•°é…ç½®

#### ğŸ“Š æ€§èƒ½è¯„ä¼°
- å…³æ³¨èƒœç‡å’Œç›ˆäºæ¯”
- è®¡ç®—å¹´åŒ–æ”¶ç›Šç‡
- è¯„ä¼°æœ€å¤§å›æ’¤é£é™©
- å¯¹æ¯”åŸºå‡†æ”¶ç›Š

---

## ğŸ“ æ–‡ä»¶ç»“æ„

```
aster/
â”œâ”€â”€ sol_long_strategy.py         # ä¸»ç­–ç•¥æ–‡ä»¶
â”œâ”€â”€ aster_api_client.py          # APIå®¢æˆ·ç«¯
â”œâ”€â”€ config_loader.py             # é…ç½®åŠ è½½å™¨
â”œâ”€â”€ config.json                  # APIé…ç½®æ–‡ä»¶
â”œâ”€â”€ points_monitor.py            # ç§¯åˆ†ç›‘æ§
â”œâ”€â”€ test_account.py              # è´¦æˆ·æµ‹è¯•
â””â”€â”€ sol_strategy.log             # ç­–ç•¥æ—¥å¿—
```

## ğŸ”— ç›¸å…³é“¾æ¥

- [Aster Finance å®˜ç½‘](https://asterdex.com)
- [APIæ–‡æ¡£](https://github.com/asterdex/api-docs)
- [ç­–ç•¥æºç ](./aster/sol_long_strategy.py)